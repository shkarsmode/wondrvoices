<section class="wondrspot-hero">
    <div class="wondrspot-content">
        <div class="text">
            <h1>What‚Äôs a WondrSpot?</h1>
            <p>
                It‚Äôs a simple way to share the spirit of your space with someone navigating cancer.¬†
                <br /><br />
                Whether having post cards on the counter or lending your space to creativity, there are many ways to get involved.¬†
            </p>
            <a href="spots#wondrspot"><button class="button primary wondrspot-btn" >Become a WondrSpot</button></a>
        </div>
        <div class="image">
            <img src="assets/img/spots/banner-3.webp" alt="WondrSpot Banner" />
            <img src="assets/img/spots/banner-2.webp" alt="WondrSpot Banner" />
            <img src="assets/img/spots/banner-1.webp" alt="WondrSpot Banner" />
        </div>
    </div>
</section>

<section class="wondrspot-description">
    <h2>üíõ Why It Matters</h2>
    <p>
        Most people don‚Äôt expect to face cancer. And when they do, many are met with silence not because others don‚Äôt
        care, but because they don‚Äôt know what to say.
    </p>
    <p>
        WondrSpots offer a simple but tangible way to respond. By putting out blank cards, they invite people to pause
        and create something meaningful: a message of care, a drawing, a few kind words.
    </p>
    <p>
        These cards become voices that might otherwise go unspoken. Each WondrSpot carries the unique spirit of its
        setting, a reminder that kindness can come from anywhere, and that we‚Äôre all connected.
    </p>
    <p>
        For some spaces, it‚Äôs a quiet corner of compassion. Others turn it into a shared moment of creativity and
        connection. Either way, it becomes the part of your space that outlives a visit.
    </p>
    <a href="spots#wondrspot" class="wondrspot-link">Join as a Wondrspot ‚Üí</a>

    <h2>üåç Who Can Be a WondrSpot?</h2>
    <p>Any place where people gather, pause, or connect. Our growing community includes:</p>
    <ul>
        <li>‚òï Coffee shops & bakeries</li>
        <li>üìö Bookstores & libraries</li>
        <li>üé® Art studios & creative spaces</li>
        <li>üßì Senior centers & care homes</li>
        <li>üè® Hotels & spas</li>
        <li>üê∂ Pet boutiques & doggy daycares</li>
        <li>üç∑ Bars & tasting rooms</li>
        <li>üõçÔ∏è Boutiques & community pop-ups</li>
    </ul>
    <p>Your space already nurtures community, let‚Äôs add one more beautiful layer.</p>
</section>

<section class="wondrspot-description wondrspot-postcards">
    <div>
        <h2>Start with 50 free postcards, on us!</h2>
        <p>Love being a WondrSpot? We‚Äôll happily send more.</p>
        <p><strong>Want to add your logo to custom postcards?</strong></p>
        <p>
            We offer an option to include your logo directly on the cards, turning each message into a small but lasting
            symbol of your community‚Äôs care. Your tax-deductible donation ensures these messages of hope reach those who
            need them most. Adding your logo honors the space where these connections begin, celebrating the voices shared
            because of you.
        </p>
        <a href="/spots#spots_form" class="wondrspot-link">Claim Your Postcard Kit ‚Üí</a>
    </div>
    <div>
        <img src="assets/img/spots/banner-group.webp" alt="Banner">
    </div>
</section>

<section class="wondrspot-description" id="spots_form">
    <h2>üì¶ Join our Growing Community</h2>
</section>

<section class="wondrspot-form" id="wondrspot">
    @if (!submitted()) {
        <h3>Become a WondrSpot?</h3>
        <form
            [formGroup]="form"
            (ngSubmit)="submit()"
            class="form"
            autocomplete="on">
            @for (f of fields; track f.key) {
                <div class="form-group">
                    <div class="input-wrapper">
                        <input
                            [id]="f.key"
                            [formControlName]="f.key"
                            [attr.name]="f.key"
                            [type]="f.type"
                            [attr.autocomplete]="f.autocomplete"
                            placeholder=" " />
                        <label
                            [class.focused]="form.get(f.key)?.value"
                            [for]="f.key">
                            {{ f.label }}
                        </label>
                    </div>
                </div>
            }

            <!-- Optional partner logo -->
            <div class="form-group">
                <div
                    *ngIf="true"
                    id="logo-dropzone"
                    class="input-wrapper file dropzone"
                    [class.is-dragover]="isDragOver()"
                    (dragover)="onDragOver($event)"
                    (dragleave)="onDragLeave($event)"
                    (drop)="onDropLogo($event)">
            
                    <!-- Preview or placeholder -->
                    <div *ngIf="logoPreviewUrl(); else logoPlaceholder" class="preview">
                        <img
                            id="logo-preview"
                            [src]="logoPreviewUrl()!"
                            alt="Selected logo preview" />
                    </div>
            
                    <ng-template #logoPlaceholder>
                        <div class="placeholder">
                            <span class="icon" aria-hidden="true">üñºÔ∏è</span>
                            <span class="hint">PNG or JPEG, up to 5 MB</span>
                        </div>
                    </ng-template>
            
                    <!-- Hidden file input, triggered by label or button -->
                    <input
                        id="logo"
                        #logoInput
                        type="file"
                        (change)="onLogoSelected($event)"
                        name="logo"
                        accept=".webp,.jpg,.jpeg,image/png,image/jpeg" />
            
                    <label
                        [class.focused]="form.get('logoFileName')?.value"
                        for="logo">
                        {{ form.get('logoFileName')?.value || 'Upload your logo (optional)' }}
                    </label>
            
                    <!-- Quick actions -->
                    <div *ngIf="form.get('logoFileName')?.value" class="actions">
                        <button
                            type="button"
                            class="button sm"
                            (click)="triggerFileDialog(logoInput)">
                            Change
                        </button>
            
                        <button
                            type="button"
                            class="button sm ghost"
                            (click)="clearLogo(logoInput)">
                            Remove
                        </button>
                    </div>
            
                    <!-- Validation / error -->
                    <small *ngIf="logoError()" class="file-note error">
                        {{ logoError() }}
                    </small>
                </div>
            </div>

            <button
                class="button primary wondrspot-btn"
                type="submit"
                [disabled]="(form.invalid && form.touched && form.dirty) || isLoading()">
                @if (!isLoading()) {
                    Join
                } @else {
                    <span class="loader"></span>
                }
            </button>
        </form>
    } @else {
        <h3>Thank you for joining as a WondrSpot!</h3>
        <p>
            Your space is now part of a growing community that spreads kindness and hope. We‚Äôll be in touch soon with your
            free postcard kit and more details on how to get involved.
        </p>

        @if (pdfUrl()) {
            <p>
                View your confirmation PDF:
                <a
                    [href]="pdfUrl()"
                    target="_blank"
                    rel="noopener">
                    open in a new tab
                </a>
                or
                <a
                    [href]="pdfUrl()"
                    download="WondrSpot_Thank_You.pdf">
                    download
                </a>.
            </p>
        }
    }
</section>
